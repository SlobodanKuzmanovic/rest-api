package main

import (
	"database/sql"
	"fmt"
	"log"
	"rest/models"
	"rest/routes"

	_ "github.com/go-sql-driver/mysql"
)

func main() {
	var err error
	log.Printf("Try open Connection")
	models.DB, err = sql.Open("mysql", "MIIEBzCCAu+gAwIBAgIJAPs/TPnO24QSMA0GCSqGSIb3DQEBBQUAMIGZMQswCQYDVQQGEwJVUzEOMAwGA1UECAwFVGV4YXMxDTALBgNVBAcMBFdhY28xHTAbBgNVBAoMFFN1Y2Nlc3NCcmlja3MgSW5jIENBMRQwEgYDVQQLDAtFbmdpbmVlcmluZzESMBAGA1UEAwwJQ0EgTWFzdGVyMSIwIAYJKoZIhvcNAQkBFhNzdXBwb3J0QGNsZWFyZGIuY29tMB4XDTExMDgwOTE5NTcxOVoXDTM4MTIyNDE5NTcxOVowgZkxCzAJBgNVBAYTAlVTMQ4wDAYDVQQIDAVUZXhhczENMAsGA1UEBwwEV2FjbzEdMBsGA1UECgwUU3VjY2Vzc0JyaWNrcyBJbmMgQ0ExFDASBgNVBAsMC0VuZ2luZWVyaW5nMRIwEAYDVQQDDAlDQSBNYXN0ZXIxIjAgBgkqhkiG9w0BCQEWE3N1cHBvcnRAY2xlYXJkYi5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDl3xOV5yj2XkwCgMZ2H3AVTZrGf/LhuX1EByOaoYeutBQfzb049wp4olmFhcL7ZXmsBJb3/7fYwyxs6rbJ0diznGFATOaEWE7yNm14gIagL6xb+Arqh9TrlF77Wts32RHIQvCAt1Sw8VeoBhWKLp96gCC1ZRSHEdh0qaTOFXRgEUGXOmtPtwiNaDwVsaYN82a9AfhKqdygRMzAPYZk29crjZy13CMgz8JZIGEKRxTqbl8ClR+A6aW3Opgf6hD/vASGigGfgbjNNPeEHUUYHj8yW3OWn7CrItdm/2TXG0xdks5VPJonHY5KdhSLobJZCyR9Oc00bT4gSOsDEKO4+t3JAgMBAAGjUDBOMB0GA1UdDgQWBBRs1gyV3ammzQYMNt78zZpXDz74GzAfBgNVHSMEGDAWgBRs1gyV3ammzQYMNt78zZpXDz74GzAMBgNVHRMEBTADAQH/MA0GCSqGSIb3DQEBBQUAA4IBAQATIQy8MJ9aZ4z6ourkHeY/RmkfMF2lfpknsPWkab/DpTkfQ4ZtAv8ZP+lCYzdoBm98FJoOhLNJxgI4M1jHg4ubccoL6r+MWBUMCT5KW6zFyom9p1wYD8dpIdzV8cTmsJTt3vrUWkC+aP2Dz3EaMHzH14JyLRxqhoOOr456y6HD4SXEwzW38n8N9J15Rpp6Am/y+dVEXquUf0Qj7l67ElIgDByBitV4AVUnmmu7C/Kn+GzTKFetyLGbEXgbgalggtnUItm4nFIrcOh51xxnTNtWDNktD06/0Oss5OY901VVwSm0JmV0LtNgymxXhQAJVDVaIAn4C0/Hh8GudcAs/QKv")
	log.Printf("BBBBBBBBBBBBBBBBBB")
	if err != nil {
		log.Printf(err.Error())

		panic(err.Error())
	}
	log.Printf("SSSSSSSSSSSSSSSSSSSSSSSSSSSSS")
	fmt.Println(models.DB.Stats())
	log.Printf("SSSSSSSSSSSSSSSSSSSSSSSSSSSSS")
	defer models.DB.Close()

	routes.HandleRequests()

}
